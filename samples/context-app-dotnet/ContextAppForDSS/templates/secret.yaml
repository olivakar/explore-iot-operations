# templates/secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Values.secret.name }}
type: Opaque
data:
  {{- if eq .Values.secret.endpointType "http" }}
  httpusername: {{ .Values.secret.http.username | b64enc | quote }}
  httppassword: {{ .Values.secret.http.password | b64enc | quote }}
  {{- else if eq .Values.secret.endpointType "sql" }}
  sqlpassword: {{ .Values.secret.sql.password | b64enc | quote }}
    {{- if hasKey $secret.data "sqlusername" }}
  sqlusername: {{ .Values.secret.sql.username | b64enc | quote }}
    {{- end }}
  {{- end }}



